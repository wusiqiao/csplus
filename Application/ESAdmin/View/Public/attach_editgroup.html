<link href="__ROOT__/{$Think.MODULE_PATH}/Public/css/attachment.css" rel="stylesheet"/>
<link rel="stylesheet" type="text/css"
      href="__ROOT__/{$Think.APP_PATH}/Public/jquery/autocompleter/jquery.autocomplete.css"/>
<style>
    input[type=checkbox].css-checkbox + label.css-label {
        top: 0;
        left: 0;
    }
</style>
<body>
<ul style="width: 250px; text-align: left;padding-left: 20px" id="addMembers" hidden>
    <li style="display: flex;align-items: center;" v-for="item in list">
        <span><input type="checkbox"></span>
        <img :src="item.head_pic" style="width: 36px;height: 36px;border-radius: 3px;margin: 0 20px;">
        <span> {{item.name}}</span>
    </li>
</ul>
</body>
<script src="/{$Think.MODULE_PATH}Public/vue/vue.min.js"></script>
<script>
    (function () {
        var members = new Vue({
            el: "#addMembers",
            data: {
                list: [],
                groupId: '{$group_id}',
                where: {
                    name: null,
                    page: 1
                }
            },
            created: function () {
                var that = this;
                this.getMembers();
            },

            methods: {
                getMembers: function (callback, where) {
                    where = where ? where : this.where;
                    var that = this;
                    $.post('/MsgGroupMember/searchMember?groupId={$group_id}', where, function (res) {
                        if (typeof callback == 'function') {
                            return callback(res,rows, res.total);
                        }

                        that.list = res.rows;
                    }, 'json');
                }
            }
        })
    })(window)
</script>