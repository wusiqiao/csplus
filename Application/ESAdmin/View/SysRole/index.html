<div class="maincontainer" id="{$Think.const.CONTROLLER_NAME}-maincontainer">
    <include file="./Application/Common/Layout/Default/list_header.html"  controller="{$Think.const.CONTROLLER_NAME}" />
    <tr> 
        <th data-options="field:'id',hidden:true">{$Think.lang.FLD_ID}</th>  
        <th data-options="field:'name',width:120,align:'left'">{$Think.lang.FLD_NAME}</th>
        <th data-options="field:'comments',width:640,align:'left'">{$Think.lang.FLD_COMMENTS}</th>
        <th data-options="field:'is_valid',width:40,align:'center',formatter:formatValidState">{$Think.lang.FLD_IS_VALID}</th>
    </tr>
    <include file="./Application/Common/Layout/Default/list_footer.html"  controller="{$Think.const.CONTROLLER_NAME}" />
</div>
<!--按钮扩展-->
<div id="{$Think.const.CONTROLLER_NAME}-action-extend">
    <if condition="($permissions.updatePermit eq 1) OR ($permissions._IS_ADMIN_ eq 1) ">
        <a href="javascript:void(0)" id="role-permit-setting" class="common-blue-btn" style="width:auto" plain="true">角色权限</a>
    </if>
</div>
<!--查询条件-->
<div class="search-panel" id="{$Think.const.CONTROLLER_NAME}-search-panel" style="display: none">
    <table class="search-table">
        <tr>
            <th>{$Think.lang.FLD_NAME}：</th>
            <td>
                <input name="ql-name"  class="easyui-validatebox filter-field" value="" />
            </td>             
        </tr>
    </table>
</div>
<script type="text/javascript">
    $(function () {
        $("#role-permit-setting").click(function () {
            var row = getDataGrid("{$Think.const.CONTROLLER_NAME}").datagrid("getSelected");
            if (row){
                createDialog("SysRole/permit/id/" + row.id, row.name + "_角色权限", "SysRole-permit");
            }else{
                $.dialog.tips("至少选择一条记录！");
            }
        });
    });
</script>